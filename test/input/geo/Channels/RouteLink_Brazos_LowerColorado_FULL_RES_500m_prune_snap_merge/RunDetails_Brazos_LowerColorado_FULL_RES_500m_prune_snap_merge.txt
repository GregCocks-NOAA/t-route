================================================================
CODE STARTING
================================================================


Details Of Script(s) Run:


Script:                 nhd_network_augment.py (alpha solution with tweaks)
Last Edit Date:         02/11/21 - GJC_Development Branch
---------
Time ALL Code Started:  Thu Feb 18 16:25:22 2021
Arguments:              Namespace(prune=True, return_original=True, snap=True, supernetwork='Brazos_LowerColorado_FULL_RES', threshold=500)
Supernetwork:           Brazos_LowerColorado_FULL_RES
Threshold (m):          500
Prune:                  True
Snap:                   True
Return Original:        True


==========
Extracting and Organizing Supernetwork Data...


==========
Prune, Snap, Then Merge:


---
Pruning Headwaters...
completed 1 iterations of headwater pruning
completed 2 iterations of headwater pruning
no more short headwaters to prune
**** Pruning the headwaters took 0:00:14.00 [HH:MM:SS.SS] ****


---
Snapping Junctions...
-----
Finding non-headwater reaches
Prior to iteration 1: 619 short reaches existed in the network
-----
Finding non-headwater reaches
After iteration 1:    30 short reaches remain
-----
Finding non-headwater reaches
After iteration 2:    4 short reaches remain
-----
Finding non-headwater reaches
After iteration 3:    0 short reaches remain
**** Snapping Junctions took 0:00:19.10 [HH:MM:SS.SS] ****


---
Merging Segments...
----> Thu Feb 18 16:26:21 2021:  Function <Segment Merge> - Reaches Loop called: 2,500 times for a total of 0.4 minutes
----------------------->  Individual Reaches Loop called: 0 | 0 | 557 times (a, b, c)
----> Thu Feb 18 16:26:39 2021:  Function <Segment Merge> - Reaches Loop called: 5,000 times for a total of 0.7 minutes
----------------------->  Individual Reaches Loop called: 0 | 0 | 1,026 times (a, b, c)
----> Thu Feb 18 16:26:53 2021:  Function <Segment Merge> - Reaches Loop called: 7,500 times for a total of 0.9 minutes
----------------------->  Individual Reaches Loop called: 0 | 0 | 1,372 times (a, b, c)
----> Thu Feb 18 16:27:13 2021:  Function <Segment Merge> - Reaches Loop called: 10,000 times for a total of 1.3 minutes
----------------------->  Individual Reaches Loop called: 0 | 0 | 1,943 times (a, b, c)
----> Thu Feb 18 16:27:35 2021:  Function <Segment Merge> - Reaches Loop called: 12,500 times for a total of 1.6 minutes
----------------------->  Individual Reaches Loop called: 0 | 0 | 2,526 times (a, b, c)
----> Thu Feb 18 16:27:53 2021:  Function <Segment Merge> - Reaches Loop called: 15,000 times for a total of 1.9 minutes
----------------------->  Individual Reaches Loop called: 0 | 0 | 3,009 times (a, b, c)
**** Segment merging took 0:02:10.72 [HH:MM:SS.SS] ****


==========
EXPORTING VARIOUS FILES TO: C:\_projects\ShortSegments\github-clone\t-route\test\input\geo\Channels\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge
--
1) Exporting edited RouteLink file as SHP 'file':      C:\_projects\ShortSegments\github-clone\t-route\test\input\geo\Channels\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge.shp
2) Exporting CrossWalk file as JSON file:              C:\_projects\ShortSegments\github-clone\t-route\test\input\geo\Channels\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge\Crosswalk_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge.json
3) Exporting original RouteLink file as a NetCDFfile:  C:\_projects\ShortSegments\github-clone\t-route\test\input\geo\Channels\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge_original.nc
4) Exporting edited RouteLink file as a NetCDFfile:    C:\_projects\ShortSegments\github-clone\t-route\test\input\geo\Channels\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge_modified.nc
5) Exporting original RouteLink file as SHP 'file':    C:\_projects\ShortSegments\github-clone\t-route\test\input\geo\Channels\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge\RouteLink_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge.shp
--
**** it took 0:00:12.79 [HH:MM:SS.SS] to export the various datasets ****


---------
Time ALL Code Finished: Thu Feb 18 16:28:20 2021


==========
Count & Time Metrics  For Various Function Calls:


Function: <prune_headwaters> [HH:MM:SS.SS]   0:00:14.00
Function: <snap_junctions>   [HH:MM:SS.SS]   0:00:19.10
Function: <segment_merge>    [HH:MM:SS.SS]   0:02:10.72
--
Function <get_network_data> Called:                        1 times
Function <network_connections> Called:                     8 times
Function <build_reaches> Called:                           8 times
Function <prune_headwaters> Called:                        1 times
Function <snap_junctions> Called:                          1 times
Function <len_weighted_av> Called:                         0 times @    0.0 minutes total
Function <merge_parameters> Called:                    4,435 times @   0.66 minutes total
Function <correct_reach_connections> Called:           3,413 times @   0.01 minutes total
Function <upstream_merge> Called:                      1,797 times @   0.47 minutes total
Function <downstream_merge> Called:                    2,638 times @   0.75 minutes total
Function <merge_all> Called:                               0 times @    0.0 minutes total
Function <update_network_data> Called:                 3,413 times @   0.49 minutes total
Function <qlat_destination_compute> Called:                1 times
Function <segment_merge> Called:                           1 times
Function <segment_merge> Reaches Loop Count:          17,241 times @   2.17 minutes total
Function <segment_merge> Reaches Loop Count A:             0 times <-- orphaned short single segment reaches)
Function <segment_merge> Reaches Loop Count B:             0 times <-- multi segment reaches - combine into a single segment reach
Function <segment_merge> Reaches Loop Count C:         3,413 times <-- multi segment reaches longer than threshold with some segments shorter than threshold


==========
Results Summary:


Number of segments (as points) in original RouteLink:     26,823
Number of segments (as points) in modified RouteLink:     22,056


OVERALL: It took 0:02:57.75 [HH:MM:SS.SS] (total) to execute ALL of this code


Run Details Text File:                RunDetails_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge.txt
cProfiler / Pstat Details DAT File:   PstatDetails_Brazos_LowerColorado_FULL_RES_500m_prune_snap_merge.dat
=========




================================================================
CODE FINISHED
================================================================
